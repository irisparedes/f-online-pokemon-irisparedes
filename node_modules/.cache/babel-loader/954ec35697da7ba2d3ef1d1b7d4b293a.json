{"ast":null,"code":"import _objectSpread from \"/Users/macbook/Iris/f-online-pokemon-irisparedes/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/macbook/Iris/f-online-pokemon-irisparedes/src/components/App/index.js\";\nimport React, { Component } from 'react';\nimport './styles.scss';\nimport { fetchPokemon } from '../../services/fetchPokemon';\nimport { Route, Switch } from 'react-router-dom';\nimport Home from '../Home';\nimport PokemonDetails from '../PokemonDetails';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pokemonList: [],\n      filterBy: ''\n    };\n    this.urlApi = 'https://pokeapi.co/api/v2/pokemon/?limit=25';\n    this.getUserValue = this.getUserValue.bind(this);\n  }\n\n  componentDidMount() {\n    const localData = JSON.parse(localStorage.getItem('pokeList'));\n\n    if (!localData) {\n      fetchPokemon(this.urlApi).then(data => {\n        data.results.forEach(pokemon => {\n          fetchPokemon(pokemon.url).then(pokemon => {\n            let pokemonData = pokemon;\n            fetchPokemon(pokemon.species.url).then(moreData => {\n              pokemonData = _objectSpread({}, pokemonData, moreData);\n              this.setState(prevState => {\n                return {\n                  pokemonList: [...prevState.pokemonList, pokemonData]\n                };\n              }, () => this.orderAndSaveToLocal(this.state.pokemonList));\n            });\n          });\n        });\n      }).catch(error => console.log('error', error));\n    } else {\n      this.setState({\n        pokemonList: localData\n      });\n    }\n  }\n\n  getUserValue({\n    target: {\n      value\n    }\n  }) {\n    this.setState({\n      filterBy: value\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          pokemonList = _this$state.pokemonList,\n          filterBy = _this$state.filterBy;\n    return React.createElement(\"div\", {\n      className: \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page__container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(Home, {\n        filterBy: filterBy,\n        pokemonList: pokemonList,\n        getUserValue: this.getUserValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/pokemon/:id\",\n      render: routerProps => React.createElement(PokemonDetails, {\n        id: routerProps.match.params.id,\n        pokemonList: pokemonList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/macbook/Iris/f-online-pokemon-irisparedes/src/components/App/index.js"],"names":["React","Component","fetchPokemon","Route","Switch","Home","PokemonDetails","App","constructor","props","state","pokemonList","filterBy","urlApi","getUserValue","bind","componentDidMount","localData","JSON","parse","localStorage","getItem","then","data","results","forEach","pokemon","url","pokemonData","species","moreData","setState","prevState","orderAndSaveToLocal","catch","error","console","log","target","value","render","routerProps","match","params","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport { fetchPokemon } from '../../services/fetchPokemon';\nimport { Route, Switch } from 'react-router-dom';\nimport Home from '../Home';\nimport PokemonDetails from '../PokemonDetails';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pokemonList: [],\n      filterBy: ''\n    };\n    this.urlApi = 'https://pokeapi.co/api/v2/pokemon/?limit=25';\n    this.getUserValue = this.getUserValue.bind(this);\n  }\n\n  componentDidMount() {\n    const localData = JSON.parse(localStorage.getItem('pokeList'));\n    if (!localData) {\n      fetchPokemon(this.urlApi)\n        .then(data => {\n          data.results.forEach(pokemon => {\n            fetchPokemon(pokemon.url).then(pokemon => {\n              let pokemonData = pokemon;\n              fetchPokemon(pokemon.species.url).then(moreData => {\n                pokemonData = { ...pokemonData, ...moreData };\n                this.setState(\n                  prevState => {\n                    return { pokemonList: [...prevState.pokemonList, pokemonData] };\n                  },\n                  () => this.orderAndSaveToLocal(this.state.pokemonList)\n                );\n              });\n            });\n          });\n        })\n        .catch(error => console.log('error', error));\n    } else {\n      this.setState({ pokemonList: localData });\n    }\n  }\n\n  getUserValue({ target: { value } }) {\n    this.setState({ filterBy: value });\n  }\n\n  render() {\n    const { pokemonList, filterBy } = this.state;\n    return (\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <Route exact path=\"/\" render={() => \n              <Home \n                filterBy={filterBy} \n                pokemonList={pokemonList} \n                getUserValue={this.getUserValue} />} />\n            <Route path=\"/pokemon/:id\" render={routerProps => \n              <PokemonDetails \n                id={routerProps.match.params.id} \n                pokemonList={pokemonList} />} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}